---
title: 使用 loki 作为 k8s 应用日志收集器
date: 2020-07-27T18:39:39+08:00
categories:
  - K8S
tags:
  - K8S
draft: true
---

应用日志是我们的好朋友, 不仅在排查错误时必不可少而且还有助于我们了解应用运行状态. 虽然现在到了 K8S 的时代, 但是它并没有提供一个开箱即用的日志解决方案, 那么我们该怎么做呢?

<!--more-->

## 为什么需要日志收集器

刀耕火种的时代, 日志基本会被通过文件记录在运行应用的宿主机上面, 所以查看日志就是登陆该宿主机, 然后查看相应的文件. 这种方式非常不方便, 首先需要频繁登陆服务器, 其次有时候应用不止部署一个实例, 假如我们拥有十个实例运行在十台机器上, 那么这种方式将会变成噩梦.

后面出现了中心化日志平台, 比如大名鼎鼎的 [ELK](https://www.elastic.co/cn/what-is/elk-stack)

![wxmp](/wxmp_tiny.png)
